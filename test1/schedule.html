<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Wildstyle Radio — Home</title>
 <link rel="stylesheet" href="/test1/style.css">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script defer src="/test1/script.js"></script>
<script src="/test1/request.js"></script>
<script src="/test1/listening.js"></script>
</head>
<body>
<header>
  <div class="topbar">
    <div class="brand">
      <img src="/test1/placeholder.png" alt="logo">
      <div>
        <h1>Wildstyle Radio</h1>
        <div style="font-size:12px;color:var(--muted)">United by beats • Powered by passion</div>
      </div>
    </div>
    <div class="controls">
      <button id="playPause" class="btn">Play</button>
      <a class="request" href="mailto:requests@wildstyle.vip">Request</a>
    </div>
  </div>
</header>

<nav class="mainnav">
  <div class="container">
    <a href="index.html" class="navlink active">Home</a>
    <a href="schedule.html" class="navlink">Schedule</a>
    <a href="djs.html" class="navlink">DJs</a>
  </div>
</nav>

<main class="container">
  <section class="content">
    <div class="card now-playing">
      <div style="font-weight:700;margin-bottom:6px">Now Playing + Last Played</div>
      <div id="nowMeta" style="color:var(--muted);font-size:14px">Loading track info…</div>
    </div>

  <div class="card" id="schedule">
  <h3>Schedule</h3>
  <div class="schedule-grid">

    <!-- Monday -->
    <div class="day-card">
      <h4>Monday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li><strong>12am – 2am:</strong></li>
        <li><strong>4am:</strong></li>
        <li class="show" data-day="Monday" data-start="12:00" data-end="14:00" data-dj="James" data-show="Wizard Of Rock" data-time="Mondays 12PM – 2PM"><strong>12pm – 2pm:</strong> James - Wizard Of Rock</li>
        <li class="show" data-day="Monday" data-start="14:00" data-end="16:00" data-dj="BabyJane" data-show="Afternoon Session" data-time="Mondays 2PM – 4PM"><strong>2pm - 4pm:</strong> BabyJane</li>
        <li class="show" data-day="Monday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Drive Mix" data-time="Mondays 3PM – 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Monday" data-start="17:00" data-end="19:00" data-dj="Lewis" data-show="The Mix" data-time="Mondays 5PM – 7PM"><strong>5pm – 7pm:</strong> Lewis - Mix</li>
        <li><strong>7pm – 9pm:</strong></li>
        <li class="show" data-day="Monday" data-start="19:00" data-end="22:00" data-dj="DJ Dezzy Mac" data-show="Mixture" data-time="Mondays 7PM – 10PM"><strong>7pm – 10pm:</strong> DJ Dezzy Mac - Mixture (taking break)</li>
        <li class="show" data-day="Monday" data-start="22:00" data-end="24:00" data-dj="DJ Jaydon Mac" data-show="Grime" data-time="Mondays 10PM – 12AM"><strong>10pm – 12am:</strong> DJ Jaydon Mac - Grime</li>
      </ul>
    </div>

    <!-- Tuesday -->
    <div class="day-card">
      <h4>Tuesday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Tuesday" data-start="01:00" data-end="02:00" data-dj="James" data-show="Wizard Of Rock" data-time="Tuesdays 1AM – 2AM"><strong>1am – 2am:</strong> James - Wizard Of Rock</li>
        <li class="show" data-day="Tuesday" data-start="03:00" data-end="06:00" data-dj="DJ Queen Dani" data-show="Early Morning Energy" data-time="Tuesdays 3AM – 6AM"><strong>3am – 6am:</strong> Dani - DJ Queen Dani</li>
        <li><strong>6am - 8am:</strong></li>
        <li class="show" data-day="Tuesday" data-start="10:00" data-end="12:00" data-dj="HotShot" data-show="90s & 2000s Classics" data-time="Tuesdays 10AM – 12PM"><strong>10am – 12pm:</strong> Hotshot - 90's 2000's</li>
        <li class="show" data-day="Tuesday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Afternoon Vibes" data-time="Tuesdays 3PM – 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Tuesday" data-start="20:00" data-end="22:00" data-dj="DJ Lewis" data-show="Evening Flow" data-time="Tuesdays 8PM – 10PM"><strong>8pm - 10pm:</strong> DJ Lewis</li>
        <li class="show" data-day="Tuesday" data-start="22:00" data-end="24:00" data-dj="DanPlayzBangers" data-show="Night Beats" data-time="Tuesdays 10PM – 12AM"><strong>10pm - 12am:</strong> DanPlayzBangers</li>
      </ul>
    </div>

    <!-- Wednesday -->
    <div class="day-card">
      <h4>Wednesday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Wednesday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Midweek Mix" data-time="Wednesdays 3PM – 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Wednesday" data-start="18:00" data-end="19:00" data-dj="DJ European BOB" data-show="Power Hour" data-time="Wednesdays 6PM – 7PM"><strong>6pm - 7pm:</strong> DJ European BOB</li>
        <li class="show" data-day="Wednesday" data-start="19:00" data-end="20:00" data-dj="DanPlayzBangers" data-show="Evening Heat" data-time="Wednesdays 7PM – 8PM"><strong>7pm - 8pm:</strong> DanPlayzBangers</li>
        <li class="show" data-day="Wednesday" data-start="20:00" data-end="22:00" data-dj="Steve D J Smith" data-show="Electric Nights" data-time="Wednesdays 8PM – 10PM"><strong>8pm - 10pm:</strong> Steve D J Smith</li>
        <li class="show" data-day="Wednesday" data-start="22:00" data-end="24:00" data-dj="Reece" data-show="Late Lounge" data-time="Wednesdays 10PM – 12AM"><strong>10pm - 12am:</strong> Reece</li>
      </ul>
    </div>

    <!-- Thursday -->
    <div class="day-card">
      <h4>Thursday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Thursday" data-start="08:00" data-end="10:00" data-dj="Coll" data-show="Morning Beats" data-time="Thursdays 8AM – 10AM"><strong>8am – 10am:</strong> Coll</li>
        <li class="show" data-day="Thursday" data-start="00:00" data-end="01:00" data-dj="DJ Mary Sailor" data-show="Midnight Mix" data-time="Thursdays 12AM – 1AM"><strong>12am – 1am:</strong> DJ Mary Sailor</li>
        <li class="show" data-day="Thursday" data-start="10:00" data-end="12:00" data-dj="Gordan" data-show="Morning Vibes" data-time="Thursdays 10AM – 12PM"><strong>10am – 12pm:</strong> Gordan</li>
        <li class="show" data-day="Thursday" data-start="12:00" data-end="14:00" data-dj="Christina" data-show="Lunchtime Live" data-time="Thursdays 12PM – 2PM"><strong>12pm - 2pm:</strong> Christina</li>
        <li class="show" data-day="Thursday" data-start="15:00" data-end="16:00" data-dj="James Stephen" data-show="Drive Hour" data-time="Thursdays 3PM – 4PM"><strong>3pm - 4pm:</strong> James Stephen</li>
        <li class="show" data-day="Thursday" data-start="19:00" data-end="20:00" data-dj="DJ EchoFalls" data-show="Frequency Shift" data-time="Thursdays 7PM – 8PM"><strong>7pm – 8pm:</strong> EchoFalls</li>
        <li class="show" data-day="Thursday" data-start="22:00" data-end="23:00" data-dj="MottMuzik" data-show="Late Flow" data-time="Thursdays 10PM – 11PM"><strong>10pm - 11pm:</strong> MottMuzik</li>
      </ul>
    </div>

    <!-- Friday -->
    <div class="day-card">
      <h4>Friday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Friday" data-start="00:00" data-end="04:00" data-dj="Steve G" data-show="Late Night Grooves" data-time="Fridays 12AM – 4AM"><strong>12am – 4am:</strong> Steve G</li>
        <li class="show" data-day="Friday" data-start="10:00" data-end="12:00" data-dj="Vish" data-show="Morning Vibes" data-time="Fridays 10AM – 12PM"><strong>10am – 12pm:</strong> Vish</li>
        <li class="show" data-day="Friday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Afternoon Chill" data-time="Fridays 3PM – 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Friday" data-start="16:00" data-end="20:00" data-dj="Steven D" data-show="Weekend Warm-Up" data-time="Fridays 4PM – 8PM"><strong>4pm – 8pm:</strong> Steven D</li>
        <li class="show" data-day="Friday" data-start="20:00" data-end="22:00" data-dj="Wendell" data-show="Night Grooves" data-time="Fridays 8PM – 10PM"><strong>8pm – 10pm:</strong> Wendell</li>
        <li class="show" data-day="Friday" data-start="22:00" data-end="23:00" data-dj="Rebecca" data-show="DJ Mix N Match" data-time="Fridays 10PM – 11PM"><strong>10pm - 11pm:</strong> Rebecca - DJ Mix N Match</li>
      </ul>
    </div>

    <!-- Saturday -->
    <div class="day-card">
      <h4>Saturday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Saturday" data-start="00:00" data-end="02:00" data-dj="Rob" data-show="Trevor Nannab" data-time="Saturdays 12AM – 2AM"><strong>12am – 2am:</strong> Rob - Trevor Nannab</li>
        <li class="show" data-day="Saturday" data-start="02:00" data-end="04:00" data-dj="Amar" data-show="DJ AJ" data-time="Saturdays 2AM – 4AM"><strong>2am – 4am:</strong> Amar - DJ AJ</li>
        <li><strong>4am – 6am:</strong></li>
        <li class="show" data-day="Saturday" data-start="06:00" data-end="10:00" data-dj="Cam" data-show="Morning Energy" data-time="Saturdays 6AM – 10AM"><strong>6am – 10am:</strong> Cam</li>
        <li class="show" data-day="Saturday" data-start="16:00" data-end="18:00" data-dj="The Byrdman" data-show="Afternoon Beats" data-time="Saturdays 4PM – 6PM"><strong>4pm – 6pm:</strong> The Byrdman</li>
        <li class="show" data-day="Saturday" data-start="18:00" data-end="19:00" data-dj="Lil Devil" data-show="On Air" data-time="Saturdays 6PM – 7PM"><strong>6pm – 7pm:</strong> Lil Devil</li>
        <li class="show" data-day="Saturday" data-start="19:00" data-end="20:00" data-dj="Sonic" data-show="PreRecorded" data-time="Saturdays 7PM – 8PM"><strong>7pm – 8pm:</strong> Sonic - PreRecorded</li>
        <li class="show" data-day="Saturday" data-start="20:00" data-end="21:00" data-dj="Daniel" data-show="Live Session" data-time="Saturdays 8PM – 9PM"><strong>8pm – 9pm:</strong> Daniel</li>
        <li class="show" data-day="Saturday" data-start="22:00" data-end="24:00" data-dj="DJ Nero" data-show="Midnight Set" data-time="Saturdays 10PM – 12AM"><strong>10pm – 12am:</strong> DJ Nero</li>
      </ul>
    </div>

    <!-- Sunday -->
    <div class="day-card">
      <h4>Sunday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Sunday" data-start="08:00" data-end="10:00" data-dj="The Byrdman" data-show="Morning Grooves" data-time="Sundays 8AM – 10AM"><strong>8am – 10am:</strong> The Byrdman</li>
        <li class="show" data-day="Sunday" data-start="11:00" data-end="12:00" data-dj="Hotshot" data-show="80s 90s Show" data-time="Sundays 11AM – 12PM"><strong>11am – 12pm:</strong> Hotshot - 80's 90's</li>
        <li class="show" data-day="Sunday" data-start="13:00" data-end="15:00" data-dj="JK" data-show="Afternoon Set" data-time="Sundays 1PM – 3PM"><strong>1pm – 3pm:</strong> JK</li>
        <li class="show" data-day="Sunday" data-start="17:00" data-end="19:00" data-dj="DJ Lewis" data-show="Evening Flow" data-time="Sundays 5PM – 7PM"><strong>5pm – 7pm:</strong> DJ Lewis</li>
        <li class="show" data-day="Sunday" data-start="19:00" data-end="20:00" data-dj="DJ European BOB" data-show="Sunday Mix" data-time="Sundays 7PM – 8PM"><strong>7pm – 8pm:</strong> DJ European BOB</li>
        <li class="show" data-day="Sunday" data-start="20:00" data-end="21:00" data-dj="DJ EchoFalls" data-show="Frequency Shift" data-time="Sundays 8PM – 9PM"><strong>8pm – 9pm:</strong> EchoFalls</li>
        <li class="show" data-day="Sunday" data-start="21:00" data-end="24:00" data-dj="Popped Radio (Suzette & Co)" data-show="Late Night Show" data-time="Sundays 9PM – 12AM"><strong>9pm – 12am:</strong> Popped Radio (Suzette & Co)</li>
      </ul>
    </div>

  </div>
</div> 
  </div>
</section>

</main>


<footer>
  <div>© Wildstyle Radio</div>
  <div class="social">
    <a href="#">Facebook</a>
    <a href="#">Twitter</a>
    <a href="#">Instagram</a>
    <a href="#">YouTube</a>
  </div>
  <script>
(function() {
  // Parse "HH:MM" to minutes from midnight; supports "24:00"
  function parseHM(s) {
    const [h, m] = s.split(':').map(Number);
    const hh = (h === 24 ? 24 : h);
    return hh * 60 + (m || 0);
  }

  // Current time in Europe/London (handles BST/UTC automatically)
  function nowLondon() {
    const parts = new Intl.DateTimeFormat('en-GB', {
      timeZone: 'Europe/London',
      weekday: 'long',
      hour: '2-digit',
      minute: '2-digit',
      hour12: false
    }).formatToParts(new Date());
    const obj = Object.fromEntries(parts.map(p => [p.type, p.value]));
    const day = obj.weekday; // "Monday"..."Sunday"
    const minutes = parseInt(obj.hour, 10) * 60 + parseInt(obj.minute, 10);
    return { day, minutes };
  }

  const DAYS = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
  function prevDayName(dayName) {
    const i = DAYS.indexOf(dayName);
    return DAYS[(i + 6) % 7];
  }

  function clearMarks() {
    document.querySelectorAll('.show.live, .show.next').forEach(el => {
      el.classList.remove('live', 'next');
      el.querySelectorAll('.live-tag, .next-tag').forEach(b => b.remove());
    });
  }

  function badge(el, text, cls) {
    const b = document.createElement('span');
    b.className = cls;
    b.textContent = text;
    el.appendChild(b);
  }

  function highlightSchedule() {
    clearMarks();

    const shows = Array.from(document.querySelectorAll('.show[data-day][data-start][data-end]'));
    if (!shows.length) return;

    const { day: today, minutes: nowMin } = nowLondon();

    // Find live show (supports cross-midnight, e.g. 23:00–01:00)
    let liveEl = null;
    for (const el of shows) {
      const d = el.dataset.day;
      const s = parseHM(el.dataset.start);
      const e = parseHM(el.dataset.end);

      const sameDayNormal = (d === today && s <= nowMin && nowMin < e && e > s);
      const crossesMidnight = (e <= s); // e.g. 23:00 to 01:00

      const liveTodayPart = crossesMidnight && d === today && nowMin >= s;
      const liveAfterMidnightPart = crossesMidnight && prevDayName(today) === d && nowMin < e;

      if (sameDayNormal || liveTodayPart || liveAfterMidnightPart) {
        liveEl = el;
        break;
      }
    }

    if (liveEl) {
      liveEl.classList.add('live');
      badge(liveEl, 'LIVE NOW', 'live-tag');
    }

    // Find "next up" (first show later today, else first show tomorrow)
    let nextEl = null;
    const todayLater = shows
      .filter(el => el.dataset.day === today)
      .map(el => ({ el, start: parseHM(el.dataset.start) }))
      .filter(o => o.start > nowMin)
      .sort((a,b) => a.start - b.start);

    if (todayLater.length) {
      nextEl = todayLater[0].el;
    } else {
      const i = DAYS.indexOf(today);
      const tomorrow = DAYS[(i + 1) % 7];
      const tomorrowFirst = shows
        .filter(el => el.dataset.day === tomorrow)
        .map(el => ({ el, start: parseHM(el.dataset.start) }))
        .sort((a,b) => a.start - b.start)[0];
      if (tomorrowFirst) nextEl = tomorrowFirst.el;
    }

    if (nextEl && nextEl !== liveEl) {
      nextEl.classList.add('next');
      badge(nextEl, 'NEXT', 'next-tag');
    }
  }

  // Run now and every minute
  highlightSchedule();
  setInterval(highlightSchedule, 60000);
})();
</script>

</footer>
</body>
</html>
