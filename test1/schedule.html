<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Wildstyle Radio â€” Home</title>
 <link rel="stylesheet" href="/test1/style.css">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script defer src="/test1/script.js"></script>
<script src="/test1/request.js"></script>

</head>
<body>
<header>
<section id="now-on" class="offair">
<div id="onair-status">Checking Schedule...</div>
<div id="onair-details"></div>
</section>
  <div class="topbar">
    <div class="brand">
      <img src="/test1/placeholder.png" alt="logo">
      <div>
        <h1>Wildstyle Radio</h1>
        <div style="font-size:12px;color:var(--muted)">United by beats â€¢ Powered by passion</div>
      </div>
    </div>
    <div class="controls">
      <button id="playPause" class="btn">Play</button>
      <a class="request" href="mailto:requests@wildstyle.vip">Request</a>
    </div>
  </div>
</header>

<nav class="mainnav">
  <div class="container">
    <a href="index.html" class="navlink active">Home</a>
    <a href="schedule.html" class="navlink">Schedule</a>
    <a href="djs.html" class="navlink">DJs</a>
  </div>
</nav>

<main class="container">
  <section class="content">
    <div class="card now-playing">
      <div style="font-weight:700;margin-bottom:6px">Now Playing + Last Played</div>
      <div id="nowMeta" style="color:var(--muted);font-size:14px">Loading track infoâ€¦</div>
    </div>

  <div class="card" id="schedule">
  <h3>Schedule</h3>
  <div class="schedule-grid">

    <!-- Monday -->
    <div class="day-card">
      <h4>Monday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li><strong>12am â€“ 2am:</strong></li>
        <li><strong>4am:</strong></li>
        <li class="show" data-day="Monday" data-start="12:00" data-end="14:00" data-dj="James" data-show="Wizard Of Rock" data-time="Mondays 12PM â€“ 2PM"><strong>12pm â€“ 2pm:</strong> James - Wizard Of Rock</li>
        <li class="show" data-day="Monday" data-start="14:00" data-end="16:00" data-dj="BabyJane" data-show="Afternoon Session" data-time="Mondays 2PM â€“ 4PM"><strong>2pm - 4pm:</strong> BabyJane</li>
        <li class="show" data-day="Monday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Drive Mix" data-time="Mondays 3PM â€“ 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Monday" data-start="17:00" data-end="19:00" data-dj="Lewis" data-show="The Mix" data-time="Mondays 5PM â€“ 7PM"><strong>5pm â€“ 7pm:</strong> Lewis - Mix</li>
        <li><strong>7pm â€“ 9pm:</strong></li>
        <li class="show" data-day="Monday" data-start="19:00" data-end="22:00" data-dj="DJ Dezzy Mac" data-show="Mixture" data-time="Mondays 7PM â€“ 10PM"><strong>7pm â€“ 10pm:</strong> DJ Dezzy Mac - Mixture (taking break)</li>
        <li class="show" data-day="Monday" data-start="22:00" data-end="24:00" data-dj="DJ Jaydon Mac" data-show="Grime" data-time="Mondays 10PM â€“ 12AM"><strong>10pm â€“ 12am:</strong> DJ Jaydon Mac - Grime</li>
      </ul>
    </div>

    <!-- Tuesday -->
    <div class="day-card">
      <h4>Tuesday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Tuesday" data-start="01:00" data-end="02:00" data-dj="James" data-show="Wizard Of Rock" data-time="Tuesdays 1AM â€“ 2AM"><strong>1am â€“ 2am:</strong> James - Wizard Of Rock</li>
        <li class="show" data-day="Tuesday" data-start="03:00" data-end="06:00" data-dj="DJ Queen Dani" data-show="Early Morning Energy" data-time="Tuesdays 3AM â€“ 6AM"><strong>3am â€“ 6am:</strong> Dani - DJ Queen Dani</li>
        <li><strong>6am - 8am:</strong></li>
        <li class="show" data-day="Tuesday" data-start="10:00" data-end="12:00" data-dj="HotShot" data-show="90s & 2000s Classics" data-time="Tuesdays 10AM â€“ 12PM"><strong>10am â€“ 12pm:</strong> Hotshot - 90's 2000's</li>
        <li class="show" data-day="Tuesday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Afternoon Vibes" data-time="Tuesdays 3PM â€“ 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Tuesday" data-start="20:00" data-end="22:00" data-dj="DJ Lewis" data-show="Evening Flow" data-time="Tuesdays 8PM â€“ 10PM"><strong>8pm - 10pm:</strong> DJ Lewis</li>
        <li class="show" data-day="Tuesday" data-start="22:00" data-end="24:00" data-dj="DanPlayzBangers" data-show="Night Beats" data-time="Tuesdays 10PM â€“ 12AM"><strong>10pm - 12am:</strong> DanPlayzBangers</li>
      </ul>
    </div>

    <!-- Wednesday -->
    <div class="day-card">
      <h4>Wednesday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Wednesday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Midweek Mix" data-time="Wednesdays 3PM â€“ 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Wednesday" data-start="18:00" data-end="19:00" data-dj="DJ European BOB" data-show="Power Hour" data-time="Wednesdays 6PM â€“ 7PM"><strong>6pm - 7pm:</strong> DJ European BOB</li>
        <li class="show" data-day="Wednesday" data-start="19:00" data-end="20:00" data-dj="DanPlayzBangers" data-show="Evening Heat" data-time="Wednesdays 7PM â€“ 8PM"><strong>7pm - 8pm:</strong> DanPlayzBangers</li>
        <li class="show" data-day="Wednesday" data-start="20:00" data-end="22:00" data-dj="Steve D J Smith" data-show="Electric Nights" data-time="Wednesdays 8PM â€“ 10PM"><strong>8pm - 10pm:</strong> Steve D J Smith</li>
        <li class="show" data-day="Wednesday" data-start="22:00" data-end="24:00" data-dj="Reece" data-show="Late Lounge" data-time="Wednesdays 10PM â€“ 12AM"><strong>10pm - 12am:</strong> Reece</li>
      </ul>
    </div>

    <!-- Thursday -->
    <div class="day-card">
      <h4>Thursday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Thursday" data-start="08:00" data-end="10:00" data-dj="Coll" data-show="Morning Beats" data-time="Thursdays 8AM â€“ 10AM"><strong>8am â€“ 10am:</strong> Coll</li>
        <li class="show" data-day="Thursday" data-start="00:00" data-end="01:00" data-dj="DJ Mary Sailor" data-show="Midnight Mix" data-time="Thursdays 12AM â€“ 1AM"><strong>12am â€“ 1am:</strong> DJ Mary Sailor</li>
        <li class="show" data-day="Thursday" data-start="10:00" data-end="12:00" data-dj="Gordan" data-show="Morning Vibes" data-time="Thursdays 10AM â€“ 12PM"><strong>10am â€“ 12pm:</strong> Gordan</li>
        <li class="show" data-day="Thursday" data-start="12:00" data-end="14:00" data-dj="Christina" data-show="Lunchtime Live" data-time="Thursdays 12PM â€“ 2PM"><strong>12pm - 2pm:</strong> Christina</li>
        <li class="show" data-day="Thursday" data-start="15:00" data-end="16:00" data-dj="James Stephen" data-show="Drive Hour" data-time="Thursdays 3PM â€“ 4PM"><strong>3pm - 4pm:</strong> James Stephen</li>
        <li class="show" data-day="Thursday" data-start="19:00" data-end="20:00" data-dj="DJ EchoFalls" data-show="Frequency Shift" data-time="Thursdays 7PM â€“ 8PM"><strong>7pm â€“ 8pm:</strong> EchoFalls</li>
        <li class="show" data-day="Thursday" data-start="22:00" data-end="23:00" data-dj="MottMuzik" data-show="Late Flow" data-time="Thursdays 10PM â€“ 11PM"><strong>10pm - 11pm:</strong> MottMuzik</li>
      </ul>
    </div>

    <!-- Friday -->
    <div class="day-card">
      <h4>Friday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Friday" data-start="00:00" data-end="04:00" data-dj="Steve G" data-show="Late Night Grooves" data-time="Fridays 12AM â€“ 4AM"><strong>12am â€“ 4am:</strong> Steve G</li>
        <li class="show" data-day="Friday" data-start="10:00" data-end="12:00" data-dj="Vish" data-show="Morning Vibes" data-time="Fridays 10AM â€“ 12PM"><strong>10am â€“ 12pm:</strong> Vish</li>
        <li class="show" data-day="Friday" data-start="15:00" data-end="17:00" data-dj="James Stephen" data-show="Afternoon Chill" data-time="Fridays 3PM â€“ 5PM"><strong>3pm - 5pm:</strong> James Stephen</li>
        <li class="show" data-day="Friday" data-start="16:00" data-end="20:00" data-dj="Steven D" data-show="Weekend Warm-Up" data-time="Fridays 4PM â€“ 8PM"><strong>4pm â€“ 8pm:</strong> Steven D</li>
        <li class="show" data-day="Friday" data-start="20:00" data-end="22:00" data-dj="Wendell" data-show="Night Grooves" data-time="Fridays 8PM â€“ 10PM"><strong>8pm â€“ 10pm:</strong> Wendell</li>
        <li class="show" data-day="Friday" data-start="22:00" data-end="23:00" data-dj="Rebecca" data-show="DJ Mix N Match" data-time="Fridays 10PM â€“ 11PM"><strong>10pm - 11pm:</strong> Rebecca - DJ Mix N Match</li>
      </ul>
    </div>

    <!-- Saturday -->
    <div class="day-card">
      <h4>Saturday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Saturday" data-start="00:00" data-end="02:00" data-dj="Rob" data-show="Trevor Nannab" data-time="Saturdays 12AM â€“ 2AM"><strong>12am â€“ 2am:</strong> Rob - Trevor Nannab</li>
        <li class="show" data-day="Saturday" data-start="02:00" data-end="04:00" data-dj="Amar" data-show="DJ AJ" data-time="Saturdays 2AM â€“ 4AM"><strong>2am â€“ 4am:</strong> Amar - DJ AJ</li>
        <li><strong>4am â€“ 6am:</strong></li>
        <li class="show" data-day="Saturday" data-start="06:00" data-end="10:00" data-dj="Cam" data-show="Morning Energy" data-time="Saturdays 6AM â€“ 10AM"><strong>6am â€“ 10am:</strong> Cam</li>
        <li class="show" data-day="Saturday" data-start="16:00" data-end="18:00" data-dj="The Byrdman" data-show="Afternoon Beats" data-time="Saturdays 4PM â€“ 6PM"><strong>4pm â€“ 6pm:</strong> The Byrdman</li>
        <li class="show" data-day="Saturday" data-start="18:00" data-end="19:00" data-dj="Lil Devil" data-show="On Air" data-time="Saturdays 6PM â€“ 7PM"><strong>6pm â€“ 7pm:</strong> Lil Devil</li>
        <li class="show" data-day="Saturday" data-start="19:00" data-end="20:00" data-dj="Sonic" data-show="PreRecorded" data-time="Saturdays 7PM â€“ 8PM"><strong>7pm â€“ 8pm:</strong> Sonic - PreRecorded</li>
        <li class="show" data-day="Saturday" data-start="20:00" data-end="21:00" data-dj="Daniel" data-show="Live Session" data-time="Saturdays 8PM â€“ 9PM"><strong>8pm â€“ 9pm:</strong> Daniel</li>
        <li class="show" data-day="Saturday" data-start="22:00" data-end="24:00" data-dj="DJ Nero" data-show="Midnight Set" data-time="Saturdays 10PM â€“ 12AM"><strong>10pm â€“ 12am:</strong> DJ Nero</li>
      </ul>
    </div>

    <!-- Sunday -->
    <div class="day-card">
      <h4>Sunday</h4>
      <ul style="padding-left:0;list-style:none;margin:0;font-size:0.95rem;border:2px solid #1f8feb;border-radius:8px;padding:10px;color:#000;">
        <li class="show" data-day="Sunday" data-start="08:00" data-end="10:00" data-dj="The Byrdman" data-show="Morning Grooves" data-time="Sundays 8AM â€“ 10AM"><strong>8am â€“ 10am:</strong> The Byrdman</li>
        <li class="show" data-day="Sunday" data-start="11:00" data-end="12:00" data-dj="Hotshot" data-show="80s 90s Show" data-time="Sundays 11AM â€“ 12PM"><strong>11am â€“ 12pm:</strong> Hotshot - 80's 90's</li>
        <li class="show" data-day="Sunday" data-start="13:00" data-end="15:00" data-dj="JK" data-show="Afternoon Set" data-time="Sundays 1PM â€“ 3PM"><strong>1pm â€“ 3pm:</strong> JK</li>
        <li class="show" data-day="Sunday" data-start="17:00" data-end="19:00" data-dj="DJ Lewis" data-show="Evening Flow" data-time="Sundays 5PM â€“ 7PM"><strong>5pm â€“ 7pm:</strong> DJ Lewis</li>
        <li class="show" data-day="Sunday" data-start="19:00" data-end="20:00" data-dj="DJ European BOB" data-show="Sunday Mix" data-time="Sundays 7PM â€“ 8PM"><strong>7pm â€“ 8pm:</strong> DJ European BOB</li>
        <li class="show" data-day="Sunday" data-start="20:00" data-end="21:00" data-dj="DJ EchoFalls" data-show="Frequency Shift" data-time="Sundays 8PM â€“ 9PM"><strong>8pm â€“ 9pm:</strong> EchoFalls</li>
        <li class="show" data-day="Sunday" data-start="21:00" data-end="24:00" data-dj="Popped Radio (Suzette & Co)" data-show="Late Night Show" data-time="Sundays 9PM â€“ 12AM"><strong>9pm â€“ 12am:</strong> Popped Radio (Suzette & Co)</li>
      </ul>
    </div>

  </div>
</div> 
  </div>
</section>

</main>
<script>
(function () {
  // CORS-safe fetch of Live365 public nowplaying
  const NOW_URL = "https://r.jina.ai/http://public.api.live365.com/v1/nowplaying/a50378";

  const djMap = {
    "autodj":"autodj",
    "james - wizard of rock":"james - wizard of rock",
    "wizard of rock":"james - wizard of rock",
    "james stephen":"james stephen",
    "babyjayne":"babyjayne",
    "lewis":"dj lewis",
    "dj lewis":"dj lewis",
    "dj echofalls":"dj echofalls",
    "echofalls":"dj echofalls",
    "hotshot":"hotshot",
    "dj hotshot":"dj hotshot",
    "queen dani":"dj queen dani",
    "dj queen dani":"dj queen dani",
    "dj dezzy mac":"dj dezzy mac",
    "dezzy mac":"dj dezzy mac",
    "dj jaydon mac":"dj jaydon mac",
    "jaydon mac":"dj jaydon mac",
    "steve d j smith":"steve d j smith",
    "steve g":"steve g",
    "steven d":"steven d",
    "mottmuzik":"mottmuzik",
    "vish":"vish",
    "wendell":"wendell",
    "gordan":"gordan",
    "christina":"christina",
    "coll":"coll",
    "j k":"jk",
    "jk":"jk",
    "cam":"cam",
    "the byrdman":"the byrdman",
    "dj european bob":"dj european bob",
    "european bob":"dj european bob",
    "danplayzbangers":"danplayzbangers",
    "dan playz bangers":"danplayzbangers",
    "daniel":"daniel",
    "dj nero":"dj nero",
    "nero":"dj nero",
    "dj mary sailor":"dj mary sailor",
    "mary sailor":"dj mary sailor",
    "rob":"rob - trevor nannab",
    "trevor nannab":"rob - trevor nannab",
    "amar":"dj aj",
    "dj aj":"dj aj",
    "lil devil":"lil devil",
    "rebecca":"rebecca - dj mix n match",
    "dj mix n match":"rebecca - dj mix n match",
    "popped radio":"popped radio",
    "suzette":"popped radio",
    "dani":"dj queen dani",
    "steve d":"steve d j smith",
    "steve smith":"steve d j smith",
    "dj james":"james stephen",
    "dj james stephen":"james stephen",
    "dani queen":"dj queen dani",
    "reese":"reece",
    "reece":"reece"
  };

  function norm(s){ return (s||"").toLowerCase().trim(); }

  async function getNow() {
    const res = await fetch("https://script.google.com/macros/s/AKfycbzKXEi6sBRgp1ZjxT8UHZZlnG23zuunIfZ8brZ7tRjLFzPrPDI3XdMp6a8RG6eIzY-3/exec", { cache: "no-store" });
    if (!res.ok) throw new Error("Fetch failed: " + res.status);
    const txt = await res.text();          // r.jina.ai returns raw body (CORS-friendly)
    // Try to parse JSON safely (handles both direct JSON and text)
    try { return JSON.parse(txt); } catch {
      // Some proxies might wrap JSON; attempt to extract JSON substring
      const start = txt.indexOf("{"); const end = txt.lastIndexOf("}");
      if (start !== -1 && end !== -1) return JSON.parse(txt.slice(start, end+1));
      throw new Error("Could not parse JSON");
    }
  }

  async function updateNowOnAir() {
    const section = document.getElementById("now-on");
    const status  = document.getElementById("onair-status");
    const details = document.getElementById("onair-details");
    if (!section || !status || !details) return;

    try {
      const data   = await getNow();
      const artist = (data.artist || data.now_playing?.artist || "").trim();
      const title  = (data.title  || data.now_playing?.title  || "").trim();

      if (!artist && !title) {
        section.className = "offair";
        status.textContent = "ðŸ•“ Off Air";
        details.textContent = "No current broadcast.";
        return;
      }

      section.className = "onair";
      status.textContent = "ðŸ”´ Now On Air";

      // If schedule exists on this page, try to match and show proper show/time
      const shows = document.querySelectorAll(".show");
      if (shows.length) {
        const current = djMap[norm(artist)] || norm(artist);
        let matched = null;
        for (const li of shows) {
          const dj = norm(li.dataset.dj);
          if (dj && (dj.includes(current) || current.includes(dj))) { matched = li; break; }
        }
        if (matched) {
          details.innerHTML = `<strong>${artist}</strong><br>${matched.dataset.show}<br><span style="font-size:.9rem;opacity:.9">${matched.dataset.time||""}</span>`;
          return;
        }
      }

      // Fallback (e.g., homepage without schedule)
      details.innerHTML = `<strong>${artist}</strong><br>${title}`;

    } catch (err) {
      console.error("On-air check error:", err);
      section.className = "offair";
      status.textContent = "Error checking stream.";
      details.textContent = "";
    }
  }

  updateNowOnAir();
  setInterval(updateNowOnAir, 90_000);
})();
</script>



<footer>
  <div>Â© Wildstyle Radio</div>
  <div class="social">
    <a href="#">Facebook</a>
    <a href="#">Twitter</a>
    <a href="#">Instagram</a>
    <a href="#">YouTube</a>
  </div>



</footer>
</body>
</html>
