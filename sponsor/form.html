<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sponsor a Track | Wildstyle Radio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/sponsor/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script defer src="https://wildstyle.vip/script.js"></script>
</head>
<body>

<!-- Header -->
  <header class="dj-card header-wrapper">
    <div class="container header-container">
      <h1>WildStyle Radio</h1>
	  <p>Online & Mobile</p>
	  
      <div class="now-playing">
        <div id="NowOn" onclick="NowON()">Click For Now On WILDSTYLE</div>
		<iframe src="https://wildstyle.vip/player.html" height="240" width="400" title="Iframe Example"></iframe>
        <!-- ðŸŽ§ Wildstyle Listener Shout-Out Ticker -->
        <div class="shoutout-ticker">
        <div id="tickerContent">Loading shout-outsâ€¦</div>
       </div>
	  </div>
    </div>
  </header>
    <!-- Now Playing Script -->
<script>
const DH = Array.from({ length: 7 }, () => Array(24).fill(null))

// MONDAY
DH[1][10] = { show: "1am â€“ 3am<br>DJ Carrillo", duration: 3 }
DH[1][10] = { show: "10am â€“ 12pm<br>", duration: 2 }
DH[1][12] = { show: "7am â€“ 8am<br>DJ Keeks", duration: 2 }
DH[1][10] = { show: "8am â€“ 10am<br>Coll", duration: 2 }
DH[1][12] = { show: "12pm â€“ 2pm<br>James-Wizard Of Rock", duration: 2 }
DH[1][14] = { show: "2pm â€“ 4pm<br>DJ Achess Sound", duration: 2 }
DH[1][15] = { show: "3pm â€“ 5pm<br>James Stephen", duration: 2 }
DH[1][17] = { show: "5pm â€“ 7pm<br>Lewis", duration: 2 }
DH[1][19] = { show: "7pm â€“ 10pm<br>Auto", duration: 3 }
DH[1][22] = { show: "10pm â€“ 12am<br>Auto", duration: 2 }

// TUESDAY
DH[2][1] = { show: "1am â€“ 2am<br>James - Wizard Of Rock", duration: 1 }
DH[2][3] = { show: "3am â€“ 6am<br>Dani - DJ Queen Dani", duration: 3 }
DH[2][6] = { show: "6am â€“ 8am<br>Auto", duration: 2 }
DH[2][15] = { show: "3pm â€“ 5pm<br>James Stephen", duration: 2 }
DH[2][15] = { show: "6pm â€“ 8pm<br>DJ Squeek", duration: 2 }
DH[2][20] = { show: "8pm â€“ 10pm<br>Dj Lewis", duration: 2 }
DH[2][10] = { show: "10am â€“ 12pm<br>HothotDJ", duration: 2 }

// WEDNESDAY
DH[3][10] = { show: "8am â€“ 10am<br>Coll", duration: 2 }
DH[3][10] = { show: "10am â€“ 12pm<br>DJ Nala", duration: 2 }
DH[3][15] = { show: "3pm â€“ 5pm<br>Ian", duration: 2 }
DH[3][18] = { show: "6pm â€“ 7pm<br>DJ European BOB", duration: 1 }
DH[3][18] = { show: "7pm â€“ 8pm<br>", duration: 1 }
DH[3][20] = { show: "8pm â€“ 10pm<br>Ivy Posion", duration: 2 }
DH[3][22] = { show: "10pm â€“ 12am<br>Auto", duration: 2 }

// THURSDAY
DH[4][8] = { show: "8am â€“ 10am<br>Coll", duration: 2 }
DH[4][0] = { show: "12am â€“ 4am<br>Auto", duration: 4 }
DH[4][10] = { show: "10am â€“ 12pm<br>DJ Barred", duration: 2 }
DH[4][03] = { show: "1pm â€“ 3pm<br>Christina", duration: 2 }
DH[4][15] = { show: "3pm â€“ 4pm<br>Auto", duration: 1 }
DH[4][19] = { show: "7pm â€“ 8pm<br>Echofalls(DJ Strawbs)", duration: 1 }
DH[4][20] = { show: "8pm â€“ 10pm<br>Russ", duration: 2 }
DH[4][22] = { show: "10pm â€“ 11pm<br>MottMuzik", duration: 1 }
DH[4][22] = { show: "12pm â€“ 2am<br>DJ Frog", duration: 3 }

// FRIDAY
DH[5][0] = { show: "12am â€“ 4am<br>SteveG", duration: 4 }
DH[5][10] = { show: "10am â€“ 12pm<br>Dani - DJ Queen Dani", duration: 2 }
DH[5][15] = { show: "3pm â€“ 5pm<br>James Stephen", duration: 2 }
DH[5][16] = { show: "4pm â€“ 8pm<br>StevenD", duration: 4 }
DH[5][20] = { show: "8pm â€“ 10pm<br>DJ indigo Riz", duration: 2 }
DH[5][22] = { show: "10pm â€“ 11pm<br>Rebecca - DJ Mix&Match", duration: 1 }
DH[5][00] = { show: "12pm â€“ 3pm<br>DJ Nala", duration: 3 }
// SATURDAY
DH[6][0] = { show: "12am â€“ 2am<br>Auto", duration: 2 }
DH[6][2] = { show: "2am â€“ 4am<br>DJ AJ", duration: 2 }
DH[6][2] = { show: "4am â€“ 6am<br>Wendell", duration: 2 }
DH[6][16] = { show: "4pm â€“ 6pm<br>The Byrdman", duration: 2 }
DH[6][18] = { show: "6pm â€“8pm<br>DJ LiL Devil", duration: 2 }
DH[6][19] = { show: "7pm â€“ 8pm<br>Sonic-Recorded", duration: 1 }
DH[6][19] = { show: "8pm â€“ 10pm<br>DJ indigo Riz", duration: 2 }
DH[6][6] = { show: "6am â€“ 10am<br>Cam", duration: 4 }
DH[6][10] = { show: "10am â€“ 12pm<br>DJ Nitro", duration: 2 }
DH[6][20] = { show: "8pm â€“ 9pm<br>Daniel", duration: 1 }


// SUNDAY
DH[0][8] = { show: "8am â€“ 10am<br>Dani - DJ Queen Dani", duration: 2 }
DH[0][11] = { show: "11am â€“ 12pm<br>HotShot - 80's 90's", duration: 1 }
DH[0][12] = { show: "12pm â€“ 1pm<br>DJ Shadow Circuit", duration: 1 }
DH[0][13] = { show: "1pm â€“ 3pm<br>Christina", duration: 2 }
DH[0][15] = { show: "3pm â€“ 5pm<br>DJ Fraser", duration: 2 }
DH[0][17] = { show: "5pm â€“ 7pm<br>DJ Lewis", duration: 2 }
DH[0][19] = { show: "7pm - 8pm<br>Auto", duration: 1 }
DH[0][20] = { show: "8pm - 9pm<br>BIG BOSS Dj Echofalls", duration: 1 }
DH[0][21] = { show: "9pm - 12am<br>Popped Radio", duration: 3 }

function NowON() {
  const now = new Date()
  const ukTime = new Date(now.toLocaleString('en-US', { timeZone: 'Europe/London' }))
  const localHour = ukTime.getHours()
  const day = ukTime.getDay()
  const prevDay = (day - 1 + 7) % 7
 
  const isInShow = (startHour, slot, hour) => {
    const start = parseInt(startHour)
    const end = (start + slot.duration) % 24
    return start <= hour && hour < end || (end < start && (hour >= start || hour < end))
  }
 
  // Check current day's shows
  const currentShow = Object.entries(DH[day])
    .filter(([, slot]) => slot !== null)
    .find(([startHour, slot]) => isInShow(startHour, slot, localHour))
 
  // If no show found, check if a show from previous day is still running
  const prevDayShow = !currentShow ? Object.entries(DH[prevDay])
    .filter(([, slot]) => slot !== null)
    .find(([startHour, slot]) => {
      const start = parseInt(startHour)
      const end = start + slot.duration
      return end >= 24 && localHour < end - 24
    }) : null
 
  const show = (currentShow?.[1] || prevDayShow?.[1])?.show || "ðŸ•“ Off Air<br>No current broadcast."
  document.getElementById("NowOn").innerHTML = show
}

// Optional: auto-refresh every 60 seconds
setInterval(NowON, 60000);</script>
</head>

<body onload="NowON()">
  <div id="NowOn" style="font-weight:bold;color:#fff;text-align:center;"></div>
</body>
  <!-- TrustPilot -->
  <!-- TrustBox script -->
<script type="text/javascript" src="//widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js" async></script>
<!-- End TrustBox script -->
<!-- TrustPilot -->

  
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg neon-nav">
    <div class="container d-flex align-items-center justify-content-between">
      <a class="navbar-brand neon-logo" href="/index.html">WILDSTYLE RADIO</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link active" href="/index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="/djs.html">DJs</a></li>
          <li class="nav-item"><a class="nav-link" href="/schedule.html">Schedule</a></li>
          <li class="nav-item"><a class="nav-link" href="/shoutout.html">Shoutouts</a></li>
          <li class="nav-item"><a class="nav-link" href="/chat.html">Chat</a></li>
          <li class="nav-item"><a class="nav-link" href="/merch.html">Merch</a></li>
          <li class="nav-item"><a class="nav-link" href="/shows.html">Shows</a></li>
          <li class="nav-item"><a class="nav-link" href="/aboutus.html">About</a></li>
        </ul>
      </div>
    </div>
  </nav>



  <!-- Hero Section -->
  <section id="banner" class="banner">
    <div class="container text-center">
      <img src="https://wildstyle.vip/images/banner.png" width="303" height="140" alt="Banner Image">
    </div>
  </section>

  <center><p style="color:DodgerBlue;"><b>Welcome To Wildstyle Radio</p></b></center>
  <center><p>Welcome To WildstyleRadio, Where</p>
  <p>Signed And Unsigned Music Shines!</p>
  <p>Our Mission Is To Spotlight Talent and Bring Top-Notch Music</p>
  <p>Round The Clock.</p></center>

  <center><main class="sponsor-page">
    <section class="sponsor-form-section">
      <h1>Sponsor a Track</h1>
      <p>Fill out the form below and complete payment to have your track and message aired live.</p>

      <form id="sponsorForm">
        <div class="form-row">
          <label for="name">Your Name (for the DJ to credit)</label>
          <input type="text" id="name" name="name" required>
        </div>

        <div class="form-row">
          <label for="track">Track Name</label>
          <input type="text" id="track" name="track" required>
        </div>

        <div class="form-row">
          <label for="artist">Artist</label>
          <input type="text" id="artist" name="artist" required>
        </div>

        <div class="form-row">
          <label for="message">Personal Message</label>
          <textarea id="message" name="message" rows="4" placeholder="For my partner Sarah, with love on our anniversary." required></textarea>
        </div>

        <div class="form-row">
          <label for="dj">Preferred DJ / Show (optional)</label>
          <select id="dj" name="dj">
            <option value="">No preference</option>
            <option value="DJ EchoFalls">DJ EchoFalls</option>
            <option value="DJ Indigo Riz">DJ Indigo Riz</option>
            <option value="DJ Sonic Circuit">DJ Sonic Circuit</option>
			<option value="HotShotDJ">HotShotDJ</option>
			<option value="DJ Mix&Match">DJ Mix&Match</option>
			<option value="DJ Nitro">DJ Nitro</option>
			<option value="Coll">Coll</option>
            <!-- Add all your DJs here -->
          </select>
        </div>

        <div class="form-row">
          <label for="email">Your Email (for confirmation)</label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-row">
          <p class="price-tag">Total: <strong>Â£4.99</strong> per sponsored track</p>
        </div>

        <!-- Status message -->
        <div id="sponsorStatus" class="status-msg"></div>

        <!-- PayPal button container -->
        <div id="paypal-button-container"></div>
      </form>
    </section>
  </main></center>

  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=AaLTrDBFsPpBiuyksKpwyZ3eabah0FtCOjL4GNYeU7igcRVOwjEbHBWT1JmUcpVhGdPwY73eHCNq4ONQ&currency=GBP"></script>

  <script>
    const statusBox = document.getElementById('sponsorStatus');
    const formEl = document.getElementById('sponsorForm');

    // Pre-select DJ if ?dj=DJ%20EchoFalls etc.
    (function preselectDJ() {
      const params = new URLSearchParams(window.location.search);
      const djParam = params.get('dj');
      if (djParam) {
        const djSelect = document.getElementById('dj');
        djSelect.value = djParam;
      }
    })();

    paypal.Buttons({
      createOrder: function(data, actions) {
        statusBox.textContent = "";
        return actions.order.create({
          purchase_units: [{
            amount: {
              value: "4.99"
            },
            description: "Wildstyle Radio Track Sponsorship"
          }]
        });
      },

      onApprove: function(data, actions) {
        statusBox.textContent = "Processing payment...";
        return actions.order.capture().then(function(details) {
          statusBox.textContent = "Saving your dedication...";

          const formData = new FormData(formEl);
          const payload = Object.fromEntries(formData.entries());

          // Add payment info
          payload.paymentProvider = "PayPal";
          payload.orderId = details.id;
          payload.payerName = details.payer.name.given_name + " " + details.payer.name.surname;
          payload.amount = details.purchase_units[0].amount.value;
          payload.currency = details.purchase_units[0].amount.currency_code;

          fetch("https://script.google.com/macros/s/AKfycbyeSvf2Mxtekez1n-voPheLQpByUOZBO-uyrpFvWdUy6L0yswCXt7vnDy55ccRWBWdK/exec", {
            method: "POST",
            mode: "no-cors", // Apps Script often needs this
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify(payload)
          })
          .then(() => {
            window.location.href = "/sponsor/thankyou.html";
          })
          .catch(err => {
            console.error(err);
            statusBox.textContent = "Payment completed but we had an issue saving your dedication. Please contact us with your PayPal receipt.";
          });
        });
      },

      onError: function(err) {
        console.error(err);
        statusBox.textContent = "There was a problem with the payment. Please try again.";
      }
    }).render('#paypal-button-container');
  </script>

</body>
</html>
